(()=>{"use strict";const e=(e,t,n)=>({taskContent:e,dueDate:t,entry:n}),t=e=>{const t=document.createElement("li"),n=document.createElement("div");n.classList.add("item-li");const c=document.createElement("span");c.classList.add("circle"),n.appendChild(c);const o=document.createElement("div");o.textContent=e.taskContent,o.classList.add("desp"),n.appendChild(o);const d=document.createElement("div");d.textContent=e.dueDate.toString(),d.classList.add("due-date"),n.appendChild(d);const s=document.createElement("img");s.src="./images/icons/archive-arrow-down-outline.svg",s.classList.add("archive"),n.appendChild(s);const a=document.createElement("img");return a.src="./images/icons/trophy.svg",a.classList.add("achivement"),n.appendChild(a),t.appendChild(n),t},n=t=>{const n=t.parentNode.parentNode,c=n.parentNode.querySelector(".desp").textContent,o=n.parentNode.querySelector(".due-date").textContent,d="achivement"===t.classList.value?"Achievements":"Archived",{top_button:s,left_button:a}=g();let l=e(c,o,a.textContent);S(s.textContent,l),console.log(t.classList.value),l=e(c,o,null),k(d,l),n.remove()},c=e=>{let n=document.querySelector(".task-panel");n&&n.remove(),n=document.createElement("div"),n.classList.add("task-panel");const c=document.createElement("div");c.textContent="Tasks",n.appendChild(c);const o=document.createElement("ul");if(e)for(let n of e){const e=t(n);o.appendChild(e)}const d=document.createElement("button");d.textContent="+ Add Task",d.setAttribute("id","add-task"),o.appendChild(d),n.appendChild(o);const s=document.createElement("div");s.classList.add("form-container");const l=a();return s.appendChild(l),n.appendChild(s),n},o=()=>{document.querySelector("#add-task").addEventListener("click",(e=>{e.target.style.display="none",document.querySelector(".form-container").style.display="flex"}))},d=()=>{document.querySelector('input[type="button"]').addEventListener("click",(()=>{s()}))},s=()=>{document.querySelector(".form-container").style.display="none",document.querySelector("#add-task").style.display="block"},a=()=>{const e=document.createElement("form");e.action="#";const t=document.createElement("div"),n=document.createElement("label");n.setAttribute("for","task_desp"),n.textContent="To-do task:";const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("name","task_desp"),c.setAttribute("id","task_desp"),c.setAttribute("placeholder","Writing my thesis all day"),t.appendChild(n),t.appendChild(c);const o=document.createElement("div"),d=document.createElement("label");d.setAttribute("for","task_due"),d.textContent="Due date:";const s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","task_due"),s.setAttribute("id","task_due"),o.appendChild(d),o.appendChild(s);const a=document.createElement("div");a.classList.add("button-group");const l=document.createElement("input");l.setAttribute("type","button"),l.setAttribute("value","Cancel");const r=document.createElement("input");return r.setAttribute("type","submit"),r.setAttribute("value","Add Task"),a.appendChild(l),a.appendChild(r),e.appendChild(t),e.appendChild(o),e.appendChild(a),e},l=()=>{const n=document.querySelector("form");n.addEventListener("submit",(c=>{c.preventDefault();const o=n.elements.task_desp.value,d=n.elements.task_due.value,{top_button:a,left_button:l}=g(),r=e(o,d,l.textContent);k(a.textContent,r);const i=document.querySelector("ul"),u=t(r),m=document.querySelector("#add-task");i.insertBefore(u,m),n.reset(),s()}))},r=()=>{document.querySelectorAll(".circle").forEach((e=>{e.addEventListener("click",(()=>{(e=>{if(e.classList.contains("checked"))e.classList.remove("checked"),e.removeChild(e.firstChild),e.nextElementSibling.classList.remove("crossover");else{const t=document.createElement("span");t.textContent="âœ“",t.classList.add("check"),e.appendChild(t),e.classList.add("checked"),(e=>{e.classList.add("crossover")})(e.nextElementSibling)}})(e)}))}))},i=()=>{document.querySelectorAll(".achivement").forEach((e=>{e.addEventListener("click",(()=>{n(e)}))}))},u=()=>{document.querySelectorAll(".archive").forEach((e=>{e.addEventListener("click",(()=>{n(e)}))}))},m=["Sleep for 12 hours","Study for 24 hours","Hunting Alligators Non STOP"],p=[e(m[0],"2023-12-31","Today"),e(m[1],"1996-03-17","Week"),e(m[2],"2021-02-02","Month")],h=document.querySelector(".content");let C=["Time","Research","Life"];const v=["Achievements","Archived"],y=(e,t)=>{const n=document.createElement("button");if(n.classList.add("nav-item"),n.textContent=e,2===t){const e=document.createElement("span");e.textContent="x",n.appendChild(e),n.classList.add("nav-deletable")}else 3===t?n.classList.add("nav-color"):4===t?n.classList.add("nav-add"):1===t&&n.classList.add("active");return n};let f={Time:["Today","Week","Month"],Researchx:["Study","Paper","Thesis","Others"],Lifex:["Grocery","Chores","Utility","Others"]};const E=e=>{const t=document.createElement("div"),n=f[e];for(let e=0;e<n.length;e++){const c=document.createElement("button");c.classList.add("specific-choice"),0===e&&c.classList.add("entry-select"),c.textContent=n[e],t.appendChild(c)}return t},g=()=>({top_button:document.querySelector(".nav-item.active"),left_button:document.querySelector(".specific-choice.entry-select")}),L=e=>{const t=document.querySelectorAll(".specific-choice");e.addEventListener("click",(e=>{if("BUTTON"===e.target.tagName){t.forEach((e=>{e.classList.remove("entry-select")})),e.target.classList.add("entry-select");const{top_button:n,left_button:s}=g(),a=x(n.textContent,s.textContent),m=c(a);h.appendChild(m),o(),d(),l(),i(),u(),r()}}))};!function(e){let t;try{t=window.localStorage;const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("Bad bad bad"):console.log("Testing local storage!");const b=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},S=(e,t)=>{const n=localStorage.getItem(e);if(null!==n){const c=JSON.parse(n),o=c.findIndex((e=>e.taskContent===t.taskContent&&e.dueDate===t.dueDate&&e.entry===t.entry));-1!==o&&(c.splice(o,1),b(e,c))}},x=(e,t=null)=>{const n=localStorage.getItem(e);if(null!==n){const e=JSON.parse(n);return null!==t?e.filter((e=>e.entry===t)):e}},k=(e,t)=>{const n=localStorage.getItem(e),c=null===n?[]:JSON.parse(n);c.push(t),b(e.toString(),c)};for(let e of p)k("Time",e);const A=document.querySelector("body"),_=document.querySelector(".content"),q=document.createElement("div");q.classList.add("header"),A.insertBefore(q,_);const T=document.createElement("div");T.textContent="Made By Jing",T.classList.add("footer"),_.after(T);const N=document.createElement("div");N.classList.add("nav");const O=document.createElement("div");for(let e=0;e<C.length;e++){const t=y(C[e],0===e?1:2);O.appendChild(t)}N.appendChild(O);const D=document.createElement("div");for(let e=0;e<2;e++){const t=y(v[e],3);D.appendChild(t)}N.appendChild(D),_.appendChild(N);const B=document.createElement("div");B.classList.add("list-bar");const I=E("Time");B.appendChild(I);const R=document.querySelectorAll(".nav-item");N.addEventListener("click",(e=>{if("BUTTON"===e.target.tagName){R.forEach((e=>{e.classList.remove("active")}));const n=e.target;if(n.classList.add("active"),"Achievements"!=n.textContent&"Archived"!=n.textContent){B.style.display="flex";const e=E(n.textContent);for(;B.firstChild;)B.replaceChildren();B.appendChild(e);const{top_button:t,left_button:s}=g(),a=x(t.textContent,s.textContent);console.log(a);const m=c(a);_.appendChild(m),L(B),o(),d(),l(),i(),u(),r()}else{for(;B.firstChild;)B.replaceChildren();const e=document.createElement("div");e.textContent="See What You've Finished!",e.style.fontSize="36px",e.style.textAlign="center",B.appendChild(e),B.style.alignContent="center";const c=((e,n)=>{let c=document.querySelector(".task-panel");c&&c.remove(),c=document.createElement("div"),c.classList.add("task-panel"),c.classList.add("done");const o=document.createElement("div");o.textContent=e.textContent+" Board",c.appendChild(o),console.log(n);const d=document.createElement("ul");if(n)for(let e of n){const n=t(e);d.appendChild(n)}return c.appendChild(d),c})(n,x(n.textContent));_.appendChild(c)}}})),_.append(B),L(B);const J=x("Time","Today"),M=c(J);_.appendChild(M),o(),d(),l(),i(),u(),r()})();