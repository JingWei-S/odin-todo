(()=>{"use strict";const e=(e,t,n)=>({taskContent:e,dueDate:t,entry:n}),t=e=>{const t=document.createElement("li"),n=document.createElement("div");n.classList.add("item-li");const c=document.createElement("span");c.classList.add("circle"),n.appendChild(c);const o=document.createElement("div");o.textContent=e.taskContent,o.classList.add("desp"),n.appendChild(o);const d=document.createElement("div");d.textContent=e.dueDate.toString(),d.classList.add("due-date"),n.appendChild(d);const s=document.createElement("img");s.src="./images/icons/archive-arrow-down-outline.svg",s.classList.add("archive"),n.appendChild(s);const a=document.createElement("img");return a.src="./images/icons/trophy.svg",a.classList.add("achivement"),n.appendChild(a),t.appendChild(n),t},n=(e,t)=>{const n=document.createElement("li"),c=document.createElement("div");c.classList.add("item-li");const o=document.createElement("span");o.classList.add("circle"),o.classList.add("checked");const d=document.createElement("span");d.textContent="✓",d.classList.add("check"),o.appendChild(d),c.appendChild(o);const s=document.createElement("div");if(console.log(t),s.textContent=t.taskContent,c.appendChild(s),console.log(e),"Archived"===e.textContent){const e=document.createElement("img");e.src="./images/icons/archive-arrow-down-outline.svg",e.classList.add("archive"),e.style.marginLeft="auto",c.appendChild(e)}else{const e=document.createElement("img");e.src="./images/icons/trophy.svg",e.classList.add("achivement"),e.style.marginLeft="auto",c.appendChild(e)}return n.appendChild(c),n},c=t=>{const n=t.parentNode.parentNode,c=n.parentNode.querySelector(".desp").textContent,o=n.parentNode.querySelector(".due-date").textContent,d="achivement"===t.classList.value?"Achievements":"Archived",{top_button:s,left_button:a}=L();let l=e(c,o,a.textContent);k(s.textContent,l),console.log(t.classList.value),l=e(c,o,null),A(d,l),n.remove()},o=e=>{let n=document.querySelector(".task-panel");n&&n.remove(),n=document.createElement("div"),n.classList.add("task-panel");const c=document.createElement("div");c.textContent="Tasks",n.appendChild(c);const o=document.createElement("ul");if(e)for(let n of e){const e=t(n);o.appendChild(e)}const d=document.createElement("button");d.textContent="+ Add Task",d.setAttribute("id","add-task"),o.appendChild(d),n.appendChild(o);const s=document.createElement("div");s.classList.add("form-container");const a=l();return s.appendChild(a),n.appendChild(s),n},d=()=>{document.querySelector("#add-task").addEventListener("click",(e=>{e.target.style.display="none",document.querySelector(".form-container").style.display="flex"}))},s=()=>{document.querySelector('input[type="button"]').addEventListener("click",(()=>{a()}))},a=()=>{document.querySelector(".form-container").style.display="none",document.querySelector("#add-task").style.display="block"},l=()=>{const e=document.createElement("form");e.action="#";const t=document.createElement("div"),n=document.createElement("label");n.setAttribute("for","task_desp"),n.textContent="To-do task:";const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("name","task_desp"),c.setAttribute("id","task_desp"),c.setAttribute("placeholder","Writing my thesis all day"),t.appendChild(n),t.appendChild(c);const o=document.createElement("div"),d=document.createElement("label");d.setAttribute("for","task_due"),d.textContent="Due date:";const s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","task_due"),s.setAttribute("id","task_due"),o.appendChild(d),o.appendChild(s);const a=document.createElement("div");a.classList.add("button-group");const l=document.createElement("input");l.setAttribute("type","button"),l.setAttribute("value","Cancel");const i=document.createElement("input");return i.setAttribute("type","submit"),i.setAttribute("value","Add Task"),a.appendChild(l),a.appendChild(i),e.appendChild(t),e.appendChild(o),e.appendChild(a),e},i=()=>{const n=document.querySelector("form");n.addEventListener("submit",(c=>{c.preventDefault();const o=n.elements.task_desp.value,d=n.elements.task_due.value,{top_button:s,left_button:l}=L(),i=e(o,d,l.textContent);A(s.textContent,i);const r=document.querySelector("ul"),u=t(i),m=document.querySelector("#add-task");r.insertBefore(u,m),n.reset(),a()}))},r=()=>{document.querySelectorAll(".circle").forEach((e=>{e.addEventListener("click",(()=>{(e=>{if(e.classList.contains("checked"))e.classList.remove("checked"),e.removeChild(e.firstChild),e.nextElementSibling.classList.remove("crossover");else{const t=document.createElement("span");t.textContent="✓",t.classList.add("check"),e.appendChild(t),e.classList.add("checked"),(e=>{e.classList.add("crossover")})(e.nextElementSibling)}})(e)}))}))},u=()=>{document.querySelectorAll(".achivement").forEach((e=>{e.addEventListener("click",(()=>{c(e)}))}))},m=()=>{document.querySelectorAll(".archive").forEach((e=>{e.addEventListener("click",(()=>{c(e)}))}))},p=["Sleep for 12 hours","Study for 24 hours","Hunting Alligators Non STOP"],h=[e(p[0],"2023-12-31","Today"),e(p[1],"1996-03-17","Week"),e(p[2],"2021-02-02","Month")],C=document.querySelector(".content");let v=["Time","Research","Life"];const y=["Achievements","Archived"],E=(e,t)=>{const n=document.createElement("button");if(n.classList.add("nav-item"),n.textContent=e,2===t){const e=document.createElement("span");e.textContent="x",n.appendChild(e),n.classList.add("nav-deletable")}else 3===t?n.classList.add("nav-color"):4===t?n.classList.add("nav-add"):1===t&&n.classList.add("active");return n};let f={Time:["Today","Week","Month"],Researchx:["Study","Paper","Thesis","Others"],Lifex:["Grocery","Chores","Utility","Others"]};const g=e=>{const t=document.createElement("div"),n=f[e];for(let e=0;e<n.length;e++){const c=document.createElement("button");c.classList.add("specific-choice"),0===e&&c.classList.add("entry-select"),c.textContent=n[e],t.appendChild(c)}return t},L=()=>({top_button:document.querySelector(".nav-item.active"),left_button:document.querySelector(".specific-choice.entry-select")}),x=e=>{const t=document.querySelectorAll(".specific-choice");e.addEventListener("click",(e=>{if("BUTTON"===e.target.tagName){t.forEach((e=>{e.classList.remove("entry-select")})),e.target.classList.add("entry-select");const{top_button:n,left_button:c}=L(),a=S(n.textContent,c.textContent),l=o(a);C.appendChild(l),d(),s(),i(),u(),m(),r()}}))};!function(e){let t;try{t=window.localStorage;const e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("Bad bad bad"):console.log("Testing local storage!");const b=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},k=(e,t)=>{const n=localStorage.getItem(e);if(null!==n){const c=JSON.parse(n),o=c.findIndex((e=>e.taskContent===t.taskContent&&e.dueDate===t.dueDate&&e.entry===t.entry));-1!==o&&(c.splice(o,1),b(e,c))}},S=(e,t=null)=>{const n=localStorage.getItem(e);if(null!==n){const e=JSON.parse(n);return null!==t?e.filter((e=>e.entry===t)):e}},A=(e,t)=>{const n=localStorage.getItem(e),c=null===n?[]:JSON.parse(n);c.push(t),b(e,c)};localStorage.getItem("Time")||b("Time",h);const _=document.querySelector("body"),q=document.querySelector(".content"),T=document.createElement("div");T.classList.add("header"),_.insertBefore(T,q);const N=document.createElement("div");N.textContent="Made By Jing",N.classList.add("footer"),q.after(N);const O=document.createElement("div");O.classList.add("nav");const D=document.createElement("div");for(let e=0;e<v.length;e++){const t=E(v[e],0===e?1:2);D.appendChild(t)}O.appendChild(D);const I=document.createElement("div");for(let e=0;e<2;e++){const t=E(y[e],3);I.appendChild(t)}O.appendChild(I),q.appendChild(O);const B=document.createElement("div");B.classList.add("list-bar");const w=g("Time");B.appendChild(w);const R=document.querySelectorAll(".nav-item");O.addEventListener("click",(e=>{if("BUTTON"===e.target.tagName){R.forEach((e=>{e.classList.remove("active")}));const t=e.target;if(t.classList.add("active"),"Achievements"!=t.textContent&"Archived"!=t.textContent){B.style.display="flex";const e=g(t.textContent);for(;B.firstChild;)B.replaceChildren();B.appendChild(e);const{top_button:n,left_button:c}=L(),a=S(n.textContent,c.textContent);console.log(a);const l=o(a);q.appendChild(l),x(B),d(),s(),i(),u(),m(),r()}else{for(;B.firstChild;)B.replaceChildren();const e=document.createElement("div");e.textContent="See What You've Finished!",e.style.fontSize="36px",e.style.textAlign="center",B.appendChild(e),B.style.alignContent="center";const c=((e,t)=>{let c=document.querySelector(".task-panel");c&&c.remove(),c=document.createElement("div"),c.classList.add("task-panel"),c.classList.add("done");const o=document.createElement("div");o.textContent=e.textContent+" Board",c.appendChild(o),console.log(t);const d=document.createElement("ul");if(t)for(let c of t){console.log(c.taskContent);const t=n(e,c);d.appendChild(t)}return c.appendChild(d),c})(t,S(t.textContent));q.appendChild(c)}}})),q.append(B),x(B);const J=S("Time","Today"),M=o(J);q.appendChild(M),d(),s(),i(),u(),m(),r()})();